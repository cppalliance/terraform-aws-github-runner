matcherConfig:
  exactMatch: true
  labelMatchers:
    - [self-hosted, windows, x64, windows-latest-aws]
    - [self-hosted, windows, x64, windows-2022-aws]
fifo: true
delay_webhook_event: 0
runner_config:
  create_service_linked_role_spot: true
  enable_ephemeral_runners: true
  instance_target_capacity_type: "spot"
  enable_userdata: false
  runner_os: windows
  runner_run_as: Administrator
  runner_architecture: x64
  runner_extra_labels: "windows-latest-aws,windows-2022-aws"
  runner_name_prefix: windows-2022-x64_
  enable_ssm_on_runners: true
  instance_types:
    - m5.large
    - c5.large
  runners_maximum_count: 10
  scale_down_schedule_expression: cron(* * * * ? *)
  runner_boot_time_in_minutes: 20
  ami_owners:
    - "047402373783"
  ami_filter: { 'name': ['github-runner-windows-core-2022-amd64-202306151516'] }
  block_device_mappings:
    - device_name: /dev/sda1
      delete_on_termination: true
      volume_type: gp3
      # boostorg/math crashed with 50. Setting it to 60.
      volume_size: 60
      encrypted: true
      iops: null
      throughput: null
      kms_key_id: null
      snapshot_id: null
  runner_log_files:
    - log_group_name: user_data
      prefix_log_group: true
      file_path: "C:\\ProgramData\\Amazon\\EC2Launch\\log\\agent.log*"
      log_stream_name: "{instance_id}/user_data"
