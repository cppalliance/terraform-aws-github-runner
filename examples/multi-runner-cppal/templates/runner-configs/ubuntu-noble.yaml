matcherConfig:
  exactMatch: true
  labelMatchers:
    # - [ self-hosted, linux, x64, ubuntu-latest-aws ]
    - [ self-hosted, linux, x64, ubuntu-24.04-aws ]
fifo: true
redrive_build_queue:
  enabled: false
  maxReceiveCount: null
runner_config:
  minimum_running_time_in_minutes: 15
  runner_boot_time_in_minutes: 15
  create_service_linked_role_spot: true
  enable_ephemeral_runners: true
  instance_target_capacity_type: "on-demand"
  enable_userdata: false
  runner_os: linux
  runner_architecture: x64
  # runner_extra_labels: "ubuntu-latest-aws,ubuntu-24.04-aws"
  runner_extra_labels: ["ubuntu-24.04-aws"]
  runner_run_as: ubuntu
  runner_name_prefix: ubuntu-2404-x64_
  enable_ssm_on_runners: true
  credit_specification: standard
  instance_types:
    - m5a.xlarge
    - m5ad.xlarge
  runners_maximum_count: 200
  delay_webhook_event: 0
  scale_down_schedule_expression: cron(* * * * ? *)
  # userdata_template: ./templates/user-data.sh
  ami:
    owners: [ "254949769574" ]
    filter: { 'name': ['github-runner-ubuntu-noble-amd64-202508111958'] }
  block_device_mappings:
    - device_name: /dev/sda1
      delete_on_termination: true
      volume_type: gp3
      volume_size: 50
      encrypted: true
      iops: null
      throughput: null
      kms_key_id: null
      snapshot_id: null
  runner_log_files:
    - log_group_name: syslog
      prefix_log_group: true
      file_path: /var/log/syslog
      log_stream_name: "{instance_id}"
    - log_group_name: user_data
      prefix_log_group: true
      file_path: /var/log/user-data.log
      log_stream_name: "{instance_id}/user_data"
    - log_group_name: runner
      prefix_log_group: true
      file_path: /opt/actions-runner/_diag/Runner_**.log
      log_stream_name: "{instance_id}/runner"
